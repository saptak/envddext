{"ast":null,"code":"import React from\"react\";import{Typography,Box,Paper,Divider,CircularProgress}from\"@mui/material\";import{createDockerDesktopClient}from\"@docker/extension-api-client\";import{listEnvoyGateways,listEnvoyHTTPRoutes}from\"./helper/kubernetes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ddClient=createDockerDesktopClient();export function App(){const[gateways,setGateways]=React.useState([]);const[routes,setRoutes]=React.useState([]);const[loading,setLoading]=React.useState(true);const[error,setError]=React.useState(null);React.useEffect(()=>{async function fetchData(){setLoading(true);setError(null);try{const gwResult=await listEnvoyGateways(ddClient);const rtResult=await listEnvoyHTTPRoutes(ddClient);if(gwResult.error)setError(gwResult.error);if(rtResult.error)setError(rtResult.error);setGateways(gwResult.items||[]);setRoutes(rtResult.items||[]);}catch(e){setError(e.message||\"Unknown error\");}setLoading(false);}fetchData();},[]);return/*#__PURE__*/_jsxs(Box,{sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Envoy Gateway\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",sx:{mb:3},children:\"Manage and observe Envoy Gateway resources in your local Kubernetes cluster using Docker Desktop.\"}),/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:3},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Backend Status: \",/*#__PURE__*/_jsx(\"b\",{children:error?\"error\":\"ok\"})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Kubernetes: \",/*#__PURE__*/_jsx(\"b\",{children:loading?\"Loading...\":\"Ready\"})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Gateways: \",/*#__PURE__*/_jsx(\"b\",{children:gateways.length})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Routes: \",/*#__PURE__*/_jsx(\"b\",{children:routes.length})]})]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Gateways\"}),/*#__PURE__*/_jsx(Divider,{sx:{my:1}}),loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):error?/*#__PURE__*/_jsx(Typography,{color:\"error\",children:typeof error==='string'?error:JSON.stringify(error)}):gateways.length===0?/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No gateways found\"}):gateways.map(gw=>/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[gw.metadata.name,\" (ns: \",gw.metadata.namespace,\")\"]},gw.metadata.uid))]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Routes\"}),/*#__PURE__*/_jsx(Divider,{sx:{my:1}}),loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):error?/*#__PURE__*/_jsx(Typography,{color:\"error\",children:typeof error==='string'?error:JSON.stringify(error)}):routes.length===0?/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No routes found\"}):routes.map(rt=>/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[rt.metadata.name,\" (ns: \",rt.metadata.namespace,\")\"]},rt.metadata.uid))]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"\\uD83D\\uDE80 Quick Setup\"}),/*#__PURE__*/_jsx(Divider,{sx:{my:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Get started with Envoy Gateway quickly for learning and local development.\"})]})]});}","map":{"version":3,"names":["React","Typography","Box","Paper","Divider","CircularProgress","createDockerDesktopClient","listEnvoyGateways","listEnvoyHTTPRoutes","jsx","_jsx","jsxs","_jsxs","ddClient","App","gateways","setGateways","useState","routes","setRoutes","loading","setLoading","error","setError","useEffect","fetchData","gwResult","rtResult","items","e","message","sx","p","children","variant","gutterBottom","color","mb","length","my","size","JSON","stringify","map","gw","metadata","name","namespace","uid","rt"],"sources":["/Users/saptak/code/envddext/ui/src/App.tsx"],"sourcesContent":["import React from \"react\";\nimport { Typography, Box, Paper, Divider, CircularProgress } from \"@mui/material\";\nimport { createDockerDesktopClient } from \"@docker/extension-api-client\";\nimport { listEnvoyGateways, listEnvoyHTTPRoutes } from \"./helper/kubernetes\";\n\nconst ddClient = createDockerDesktopClient();\n\nexport function App() {\n  const [gateways, setGateways] = React.useState<any[]>([]);\n  const [routes, setRoutes] = React.useState<any[]>([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState<string | null>(null);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n      try {\n        const gwResult = await listEnvoyGateways(ddClient);\n        const rtResult = await listEnvoyHTTPRoutes(ddClient);\n        if (gwResult.error) setError(gwResult.error);\n        if (rtResult.error) setError(rtResult.error);\n        setGateways(gwResult.items || []);\n        setRoutes(rtResult.items || []);\n      } catch (e: any) {\n        setError(e.message || \"Unknown error\");\n      }\n      setLoading(false);\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <Box sx={{ p: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>\n        Envoy Gateway\n      </Typography>\n      <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\n        Manage and observe Envoy Gateway resources in your local Kubernetes cluster using Docker Desktop.\n      </Typography>\n\n      {/* Backend Status and Summary */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Typography variant=\"subtitle1\">Backend Status: <b>{error ? \"error\" : \"ok\"}</b></Typography>\n        <Typography variant=\"subtitle1\">Kubernetes: <b>{loading ? \"Loading...\" : \"Ready\"}</b></Typography>\n        <Typography variant=\"subtitle1\">Gateways: <b>{gateways.length}</b></Typography>\n        <Typography variant=\"subtitle1\">Routes: <b>{routes.length}</b></Typography>\n      </Paper>\n\n      {/* Gateways Section */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Typography variant=\"h6\">Gateways</Typography>\n        <Divider sx={{ my: 1 }} />\n        {loading ? (\n          <CircularProgress size={20} />\n        ) : error ? (\n          <Typography color=\"error\">{typeof error === 'string' ? error : JSON.stringify(error)}</Typography>\n        ) : gateways.length === 0 ? (\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            No gateways found\n          </Typography>\n        ) : (\n          gateways.map((gw: any) => (\n            <Typography key={gw.metadata.uid} variant=\"body2\">\n              {gw.metadata.name} (ns: {gw.metadata.namespace})\n            </Typography>\n          ))\n        )}\n      </Paper>\n\n      {/* Routes Section */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Typography variant=\"h6\">Routes</Typography>\n        <Divider sx={{ my: 1 }} />\n        {loading ? (\n          <CircularProgress size={20} />\n        ) : error ? (\n          <Typography color=\"error\">{typeof error === 'string' ? error : JSON.stringify(error)}</Typography>\n        ) : routes.length === 0 ? (\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            No routes found\n          </Typography>\n        ) : (\n          routes.map((rt: any) => (\n            <Typography key={rt.metadata.uid} variant=\"body2\">\n              {rt.metadata.name} (ns: {rt.metadata.namespace})\n            </Typography>\n          ))\n        )}\n      </Paper>\n\n      {/* Quick Setup Section */}\n      <Paper sx={{ p: 2 }}>\n        <Typography variant=\"h6\">ðŸš€ Quick Setup</Typography>\n        <Divider sx={{ my: 1 }} />\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          Get started with Envoy Gateway quickly for learning and local development.\n        </Typography>\n      </Paper>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}