{"ast":null,"code":"import React from\"react\";import{Typography,Box,Paper,Divider,CircularProgress}from\"@mui/material\";import{createDockerDesktopClient}from\"@docker/extension-api-client\";import{listEnvoyGateways,listEnvoyHTTPRoutes}from\"./helper/kubernetes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ddClient=createDockerDesktopClient();export function App(){const[gateways,setGateways]=React.useState([]);const[routes,setRoutes]=React.useState([]);const[loading,setLoading]=React.useState(true);const[error,setError]=React.useState(null);React.useEffect(()=>{async function fetchData(){setLoading(true);setError(null);try{const gwResult=await listEnvoyGateways(ddClient);const rtResult=await listEnvoyHTTPRoutes(ddClient);if(gwResult.error){console.error('Gateway error:',gwResult.error);setError(gwResult.error);}if(rtResult.error){console.error('Route error:',rtResult.error);setError(rtResult.error);}setGateways(gwResult.items||[]);setRoutes(rtResult.items||[]);}catch(e){console.error('Caught error:',e);setError(typeof e==='string'?e:JSON.stringify(e,null,2));}setLoading(false);}fetchData();},[]);return/*#__PURE__*/_jsxs(Box,{sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Envoy Gateway\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",sx:{mb:3},children:\"Manage and observe Envoy Gateway resources in your local Kubernetes cluster using Docker Desktop.\"}),/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:3},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Backend Status: \",/*#__PURE__*/_jsx(\"b\",{children:error?\"error\":\"ok\"})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Kubernetes: \",/*#__PURE__*/_jsx(\"b\",{children:loading?\"Loading...\":\"Ready\"})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Gateways: \",/*#__PURE__*/_jsx(\"b\",{children:gateways.length})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Routes: \",/*#__PURE__*/_jsx(\"b\",{children:routes.length})]})]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Gateways\"}),/*#__PURE__*/_jsx(Divider,{sx:{my:1}}),loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):error?/*#__PURE__*/_jsx(Typography,{color:\"error\",sx:{whiteSpace:'pre-wrap'},children:typeof error==='string'?error:JSON.stringify(error,null,2)}):gateways.length===0?/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No gateways found\"}):gateways.map(gw=>/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[gw.metadata.name,\" (ns: \",gw.metadata.namespace,\")\"]},gw.metadata.uid))]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Routes\"}),/*#__PURE__*/_jsx(Divider,{sx:{my:1}}),loading?/*#__PURE__*/_jsx(CircularProgress,{size:20}):error?/*#__PURE__*/_jsx(Typography,{color:\"error\",sx:{whiteSpace:'pre-wrap'},children:typeof error==='string'?error:JSON.stringify(error,null,2)}):routes.length===0?/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No routes found\"}):routes.map(rt=>/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[rt.metadata.name,\" (ns: \",rt.metadata.namespace,\")\"]},rt.metadata.uid))]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"\\uD83D\\uDE80 Quick Setup\"}),/*#__PURE__*/_jsx(Divider,{sx:{my:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Get started with Envoy Gateway quickly for learning and local development.\"})]})]});}","map":{"version":3,"names":["React","Typography","Box","Paper","Divider","CircularProgress","createDockerDesktopClient","listEnvoyGateways","listEnvoyHTTPRoutes","jsx","_jsx","jsxs","_jsxs","ddClient","App","gateways","setGateways","useState","routes","setRoutes","loading","setLoading","error","setError","useEffect","fetchData","gwResult","rtResult","console","items","e","JSON","stringify","sx","p","children","variant","gutterBottom","color","mb","length","my","size","whiteSpace","map","gw","metadata","name","namespace","uid","rt"],"sources":["/Users/saptak/code/envddext/ui/src/App.tsx"],"sourcesContent":["import React from \"react\";\nimport { Typography, Box, Paper, Divider, CircularProgress } from \"@mui/material\";\nimport { createDockerDesktopClient } from \"@docker/extension-api-client\";\nimport { listEnvoyGateways, listEnvoyHTTPRoutes } from \"./helper/kubernetes\";\n\nconst ddClient = createDockerDesktopClient();\n\nexport function App() {\n  const [gateways, setGateways] = React.useState<any[]>([]);\n  const [routes, setRoutes] = React.useState<any[]>([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState<string | null>(null);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n      try {\n        const gwResult = await listEnvoyGateways(ddClient);\n        const rtResult = await listEnvoyHTTPRoutes(ddClient);\n        if (gwResult.error) {\n          console.error('Gateway error:', gwResult.error);\n          setError(gwResult.error);\n        }\n        if (rtResult.error) {\n          console.error('Route error:', rtResult.error);\n          setError(rtResult.error);\n        }\n        setGateways(gwResult.items || []);\n        setRoutes(rtResult.items || []);\n      } catch (e: any) {\n        console.error('Caught error:', e);\n        setError(typeof e === 'string' ? e : JSON.stringify(e, null, 2));\n      }\n      setLoading(false);\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <Box sx={{ p: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>\n        Envoy Gateway\n      </Typography>\n      <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\n        Manage and observe Envoy Gateway resources in your local Kubernetes cluster using Docker Desktop.\n      </Typography>\n\n      {/* Backend Status and Summary */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Typography variant=\"subtitle1\">Backend Status: <b>{error ? \"error\" : \"ok\"}</b></Typography>\n        <Typography variant=\"subtitle1\">Kubernetes: <b>{loading ? \"Loading...\" : \"Ready\"}</b></Typography>\n        <Typography variant=\"subtitle1\">Gateways: <b>{gateways.length}</b></Typography>\n        <Typography variant=\"subtitle1\">Routes: <b>{routes.length}</b></Typography>\n      </Paper>\n\n      {/* Gateways Section */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Typography variant=\"h6\">Gateways</Typography>\n        <Divider sx={{ my: 1 }} />\n        {loading ? (\n          <CircularProgress size={20} />\n        ) : error ? (\n          <Typography color=\"error\" sx={{ whiteSpace: 'pre-wrap' }}>{typeof error === 'string' ? error : JSON.stringify(error, null, 2)}</Typography>\n        ) : gateways.length === 0 ? (\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            No gateways found\n          </Typography>\n        ) : (\n          gateways.map((gw: any) => (\n            <Typography key={gw.metadata.uid} variant=\"body2\">\n              {gw.metadata.name} (ns: {gw.metadata.namespace})\n            </Typography>\n          ))\n        )}\n      </Paper>\n\n      {/* Routes Section */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Typography variant=\"h6\">Routes</Typography>\n        <Divider sx={{ my: 1 }} />\n        {loading ? (\n          <CircularProgress size={20} />\n        ) : error ? (\n          <Typography color=\"error\" sx={{ whiteSpace: 'pre-wrap' }}>{typeof error === 'string' ? error : JSON.stringify(error, null, 2)}</Typography>\n        ) : routes.length === 0 ? (\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            No routes found\n          </Typography>\n        ) : (\n          routes.map((rt: any) => (\n            <Typography key={rt.metadata.uid} variant=\"body2\">\n              {rt.metadata.name} (ns: {rt.metadata.namespace})\n            </Typography>\n          ))\n        )}\n      </Paper>\n\n      {/* Quick Setup Section */}\n      <Paper sx={{ p: 2 }}>\n        <Typography variant=\"h6\">ðŸš€ Quick Setup</Typography>\n        <Divider sx={{ my: 1 }} />\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          Get started with Envoy Gateway quickly for learning and local development.\n        </Typography>\n      </Paper>\n    </Box>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,CAAEC,GAAG,CAAEC,KAAK,CAAEC,OAAO,CAAEC,gBAAgB,KAAQ,eAAe,CACjF,OAASC,yBAAyB,KAAQ,8BAA8B,CACxE,OAASC,iBAAiB,CAAEC,mBAAmB,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7E,KAAM,CAAAC,QAAQ,CAAGP,yBAAyB,CAAC,CAAC,CAE5C,MAAO,SAAS,CAAAQ,GAAGA,CAAA,CAAG,CACpB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,KAAK,CAACiB,QAAQ,CAAQ,EAAE,CAAC,CACzD,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGnB,KAAK,CAACiB,QAAQ,CAAQ,EAAE,CAAC,CACrD,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGrB,KAAK,CAACiB,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACK,KAAK,CAAEC,QAAQ,CAAC,CAAGvB,KAAK,CAACiB,QAAQ,CAAgB,IAAI,CAAC,CAE7DjB,KAAK,CAACwB,SAAS,CAAC,IAAM,CACpB,cAAe,CAAAC,SAASA,CAAA,CAAG,CACzBJ,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAnB,iBAAiB,CAACM,QAAQ,CAAC,CAClD,KAAM,CAAAc,QAAQ,CAAG,KAAM,CAAAnB,mBAAmB,CAACK,QAAQ,CAAC,CACpD,GAAIa,QAAQ,CAACJ,KAAK,CAAE,CAClBM,OAAO,CAACN,KAAK,CAAC,gBAAgB,CAAEI,QAAQ,CAACJ,KAAK,CAAC,CAC/CC,QAAQ,CAACG,QAAQ,CAACJ,KAAK,CAAC,CAC1B,CACA,GAAIK,QAAQ,CAACL,KAAK,CAAE,CAClBM,OAAO,CAACN,KAAK,CAAC,cAAc,CAAEK,QAAQ,CAACL,KAAK,CAAC,CAC7CC,QAAQ,CAACI,QAAQ,CAACL,KAAK,CAAC,CAC1B,CACAN,WAAW,CAACU,QAAQ,CAACG,KAAK,EAAI,EAAE,CAAC,CACjCV,SAAS,CAACQ,QAAQ,CAACE,KAAK,EAAI,EAAE,CAAC,CACjC,CAAE,MAAOC,CAAM,CAAE,CACfF,OAAO,CAACN,KAAK,CAAC,eAAe,CAAEQ,CAAC,CAAC,CACjCP,QAAQ,CAAC,MAAO,CAAAO,CAAC,GAAK,QAAQ,CAAGA,CAAC,CAAGC,IAAI,CAACC,SAAS,CAACF,CAAC,CAAE,IAAI,CAAE,CAAC,CAAC,CAAC,CAClE,CACAT,UAAU,CAAC,KAAK,CAAC,CACnB,CACAI,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEb,KAAA,CAACV,GAAG,EAAC+B,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAE,CAAE,CAAAC,QAAA,eAChBzB,IAAA,CAACT,UAAU,EAACmC,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAAC,eAEtC,CAAY,CAAC,cACbzB,IAAA,CAACT,UAAU,EAACmC,OAAO,CAAC,OAAO,CAACE,KAAK,CAAC,gBAAgB,CAACL,EAAE,CAAE,CAAEM,EAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,CAAC,mGAElE,CAAY,CAAC,cAGbvB,KAAA,CAACT,KAAK,EAAC8B,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAC,CAAEK,EAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,eACzBvB,KAAA,CAACX,UAAU,EAACmC,OAAO,CAAC,WAAW,CAAAD,QAAA,EAAC,kBAAgB,cAAAzB,IAAA,MAAAyB,QAAA,CAAIb,KAAK,CAAG,OAAO,CAAG,IAAI,CAAI,CAAC,EAAY,CAAC,cAC5FV,KAAA,CAACX,UAAU,EAACmC,OAAO,CAAC,WAAW,CAAAD,QAAA,EAAC,cAAY,cAAAzB,IAAA,MAAAyB,QAAA,CAAIf,OAAO,CAAG,YAAY,CAAG,OAAO,CAAI,CAAC,EAAY,CAAC,cAClGR,KAAA,CAACX,UAAU,EAACmC,OAAO,CAAC,WAAW,CAAAD,QAAA,EAAC,YAAU,cAAAzB,IAAA,MAAAyB,QAAA,CAAIpB,QAAQ,CAACyB,MAAM,CAAI,CAAC,EAAY,CAAC,cAC/E5B,KAAA,CAACX,UAAU,EAACmC,OAAO,CAAC,WAAW,CAAAD,QAAA,EAAC,UAAQ,cAAAzB,IAAA,MAAAyB,QAAA,CAAIjB,MAAM,CAACsB,MAAM,CAAI,CAAC,EAAY,CAAC,EACtE,CAAC,cAGR5B,KAAA,CAACT,KAAK,EAAC8B,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAC,CAAEK,EAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,eACzBzB,IAAA,CAACT,UAAU,EAACmC,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAC,UAAQ,CAAY,CAAC,cAC9CzB,IAAA,CAACN,OAAO,EAAC6B,EAAE,CAAE,CAAEQ,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,CACzBrB,OAAO,cACNV,IAAA,CAACL,gBAAgB,EAACqC,IAAI,CAAE,EAAG,CAAE,CAAC,CAC5BpB,KAAK,cACPZ,IAAA,CAACT,UAAU,EAACqC,KAAK,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEU,UAAU,CAAE,UAAW,CAAE,CAAAR,QAAA,CAAE,MAAO,CAAAb,KAAK,GAAK,QAAQ,CAAGA,KAAK,CAAGS,IAAI,CAACC,SAAS,CAACV,KAAK,CAAE,IAAI,CAAE,CAAC,CAAC,CAAa,CAAC,CACzIP,QAAQ,CAACyB,MAAM,GAAK,CAAC,cACvB9B,IAAA,CAACT,UAAU,EAACmC,OAAO,CAAC,OAAO,CAACE,KAAK,CAAC,gBAAgB,CAAAH,QAAA,CAAC,mBAEnD,CAAY,CAAC,CAEbpB,QAAQ,CAAC6B,GAAG,CAAEC,EAAO,eACnBjC,KAAA,CAACX,UAAU,EAAuBmC,OAAO,CAAC,OAAO,CAAAD,QAAA,EAC9CU,EAAE,CAACC,QAAQ,CAACC,IAAI,CAAC,QAAM,CAACF,EAAE,CAACC,QAAQ,CAACE,SAAS,CAAC,GACjD,GAFiBH,EAAE,CAACC,QAAQ,CAACG,GAEjB,CACb,CACF,EACI,CAAC,cAGRrC,KAAA,CAACT,KAAK,EAAC8B,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAC,CAAEK,EAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,eACzBzB,IAAA,CAACT,UAAU,EAACmC,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAC,QAAM,CAAY,CAAC,cAC5CzB,IAAA,CAACN,OAAO,EAAC6B,EAAE,CAAE,CAAEQ,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,CACzBrB,OAAO,cACNV,IAAA,CAACL,gBAAgB,EAACqC,IAAI,CAAE,EAAG,CAAE,CAAC,CAC5BpB,KAAK,cACPZ,IAAA,CAACT,UAAU,EAACqC,KAAK,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEU,UAAU,CAAE,UAAW,CAAE,CAAAR,QAAA,CAAE,MAAO,CAAAb,KAAK,GAAK,QAAQ,CAAGA,KAAK,CAAGS,IAAI,CAACC,SAAS,CAACV,KAAK,CAAE,IAAI,CAAE,CAAC,CAAC,CAAa,CAAC,CACzIJ,MAAM,CAACsB,MAAM,GAAK,CAAC,cACrB9B,IAAA,CAACT,UAAU,EAACmC,OAAO,CAAC,OAAO,CAACE,KAAK,CAAC,gBAAgB,CAAAH,QAAA,CAAC,iBAEnD,CAAY,CAAC,CAEbjB,MAAM,CAAC0B,GAAG,CAAEM,EAAO,eACjBtC,KAAA,CAACX,UAAU,EAAuBmC,OAAO,CAAC,OAAO,CAAAD,QAAA,EAC9Ce,EAAE,CAACJ,QAAQ,CAACC,IAAI,CAAC,QAAM,CAACG,EAAE,CAACJ,QAAQ,CAACE,SAAS,CAAC,GACjD,GAFiBE,EAAE,CAACJ,QAAQ,CAACG,GAEjB,CACb,CACF,EACI,CAAC,cAGRrC,KAAA,CAACT,KAAK,EAAC8B,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAE,CAAE,CAAAC,QAAA,eAClBzB,IAAA,CAACT,UAAU,EAACmC,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAC,0BAAc,CAAY,CAAC,cACpDzB,IAAA,CAACN,OAAO,EAAC6B,EAAE,CAAE,CAAEQ,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,cAC1B/B,IAAA,CAACT,UAAU,EAACmC,OAAO,CAAC,OAAO,CAACE,KAAK,CAAC,gBAAgB,CAAAH,QAAA,CAAC,4EAEnD,CAAY,CAAC,EACR,CAAC,EACL,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module"}